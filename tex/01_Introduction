\section{導入}

ここ数年、Proof of Stake (PoS) ベースのブロックチェーンコンセンサスアルゴリズムに関する多くの研究が行われてきました。

PoS システムでは、ブロックチェーンはシステム内でコインを保持する人が参加できるプロセスを通じて、新しいブロックを追加し合意します。エージェントが持つ影響は、コインの数 (つまり「ステーク」) に比例します。

これは、Proof of Work (PoW) の “マイニング” に代わる非常に効率的な代替手段であり、マイニングの高いハードウェアおよび電気コストなしでブロックチェーンを稼働させることができます。


PoSの設計には2つの主要な考え方があります。

1つ目はチェーンベースのProof of Stake[1, 2]で、これはProof of Workの仕組みを模倣したブロックの連鎖を特徴とし、ステークホルダーに新しいブロックを作成する権利を疑似ランダムに割り当てることによってマイニングをシミュレートします。

これには Peercoin[3]やBlackcoin[4]、そしてIddo Bentov’sの研究が含まれます。


2つ目が、ビザンチンフォールトトレラント (BFT)  ベースのProof of Stakeで、これはPBFTなどのBFTコンセンサスアルゴリズムに関する30年前の研究に基づいています。

[6] BFTアルゴリズムは、一般的な数学的特徴が証明されています。

例えば、プロトコル参加者の2/3以上が正直にプロトコルに従っている限り、ネットワークの待ち時間に関わらず、アルゴリズムは競合するブロックをファイナライズすることができないことを数学的に証明することができます。

Proof of StakeのためのBFTアルゴリズムの再利用は、Tendarmint[7] によって初めて導入され、[8]のような近代的なインスピレーションを受けています。

CasperはこのBFTの伝統に従いますが、いくつかの変更があります。

\subsection{私たちの取り組み}

Casper the Friendly Finality Gadget は、提案メカニズムの上にオーバーレイとして存在し、ブロックを提案するメカニズムです。

Casperはこれらのブロックをファイナライズする責任があり、正規トランザクション有する、本質的な台帳を表す、固有のチェーン(メインチェーン)を選択します。

Casperは安全性を提供しますが、選択された提案メカニズムに依存し活用されます。それはつまり、攻撃者が提案メカニズムを完全に制御する場合、Casperは2つの矛盾するチェックポイントをファイナライズすることを防ぎます。

しかし、攻撃者はCasperが将来のチェックポイントを確定するのを妨げる可能性があります。

CasperはBFTアルゴリズムが必ずしもサポートしていない、いくつかの新機能を導入しています。

\begin{description}
\item[Accountability.] バリデーターがルールに違反した場合、違反を検出して、どのバリデーターがルールに違反しているかを知ることができます。

Accountability は、不正なバリデーターにペナルティを課し、チェーンベースのPoSで悩まされている ”Nothing at Stake” 問題を解決します。

ルールに違反した場合のペナルティは、バリデータ達のデポジットです。

この最大のペナルティは、プロトコル違反に対する防御です。

なぜなら、Proof of Stakeのセキュリティは、マイニング報酬の利益を大幅に上回るように設定できるペナルティのサイズに基づいているため、Proof of StakeはProof of Workより厳密で強力なセキュリティインセンティブ提供します。

\item[Dynamic Validators.] Validator setが時間の経過と共に変化する安全な方法を紹介します (第3章)。

\item[Defebses.] Long Range Revision攻撃と非常に弱いトレードオフの同期性の仮定を犠牲にしてバリデーターの1/3以上がオフラインになった攻撃に対する対策を紹介します(第4章)

\item[Modular overlay.] オーバーレイとしてのCasperの設計は、既存のProof of Workチェーンへのアップグレードとして実装することを容易にします。

\end{itemize}


私たちは段階的にCasperを説明していきます。最初にシンプルなバージョン (第2章)、次にバリデータセットの変更 (第3章)。

そして最後に攻撃に対する防御を (第4章) 説明します。
